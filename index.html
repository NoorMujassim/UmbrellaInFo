<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Umbrella InFo — Where Data Speaks</title>
  <meta name="description" content="Umbrella InFo — Data analysis & visualization. Excel, Python, MS SQL, Power BI, Tableau. Where data speaks." />
  <meta name="author" content="Umbrella InFo" />
  <meta name="theme-color" content="#0057D9" />
  <link rel="icon" href="assets/favicon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="assets/favicon.svg">
  <meta name="msapplication-TileColor" content="#0057D9">
  <!-- Platform icons (placeholders) -->
  <!-- Transparent 1x1 PNG used as placeholder; replace with proper 192/512 PNGs when available -->
  <link rel="icon" type="image/png" sizes="192x192" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNgYAAAAAMAASsJTYQAAAAASUVORK5CYII=">
  <link rel="icon" type="image/png" sizes="512x512" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGNgYAAAAAMAASsJTYQAAAAASUVORK5CYII=">
  <link rel="manifest" href="/manifest.json">

  <!-- Structured data (JSON-LD) -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Umbrella InFo",
    "url": "./",
    "logo": "assets/umbrella-logo.png",
    "sameAs": ["https://www.linkedin.com/in/immunassim/","https://github.com/"],
    "description": "Umbrella InFo — Data analysis & visualization. Where Data Speaks."
  }
  </script>

  <!-- Simple, clean system font stack -->
  <style>
    :root{
      /* Default to light theme so content is readable before JS runs */
      --bg: #f6f8fa;
      --card: #fff;
      --muted: #4b5563;
    --accent: #0057D9; /* primary deep blue */
    --accent-2: #00C9A7; /* secondary teal/green */
    --highlight: #FFB100; /* warm yellow/orange */
      --glass: rgba(0,0,0,0.03);
      --radius:12px;
      --text: #1f2937;
      --heading: #0f1724;
      --link: var(--accent-2);
      --bg-gradient: linear-gradient(180deg, #ffffff 0%, #f6f8fa 100%);
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }

    /* Dark theme override (brand colors below) */
    [data-theme="dark"] {
      --bg:#121212; --card:#1a1a1a; --muted:#9aa7bd; --accent:#00C9A7; --accent-2:#0057D9;
      --glass: rgba(255,255,255,0.03);
      --text: #e6eef6; --heading: #fff; --link: var(--accent-2);
      --bg-gradient: linear-gradient(180deg,#121212 0%, #0f0f10 60%);
      color-scheme: dark;
    }
    /* Navigation & interactive buttons */
    .navlink{
      display:inline-block;
      padding:8px 12px;
      border-radius:8px;
      color:var(--heading);
      text-decoration:none;
      font-weight:600;
      transition:transform .15s ease, box-shadow .15s ease, background .15s ease, color .15s ease;
      cursor:pointer;
      border:1px solid transparent;
    }
    .navlink:hover,
    .navlink:focus{
      transform:translateY(-3px);
      box-shadow:0 8px 20px rgba(2,6,23,0.08);
      background:linear-gradient(90deg, var(--accent), var(--accent-2));
      color:var(--bg);
      outline: none;
      border-color: transparent;
    }
  .navlink:focus-visible{ box-shadow: 0 0 0 4px rgba(0,87,217,0.12); }

    .btn{
      display:inline-block;
      padding:8px 14px;
      border-radius:10px;
      font-weight:700;
      text-decoration:none;
      background:linear-gradient(90deg, var(--accent), var(--accent-2));
      color:var(--bg);
      border: none;
      cursor: pointer;
      transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
  box-shadow: 0 8px 26px rgba(0,87,217,0.08);
    }
    .btn:hover, .btn:focus{
      transform: translateY(-4px) scale(1.02);
      filter: brightness(1.03);
    }
    .btn:active{ transform: translateY(-1px) scale(0.995); }
    .btn[disabled]{ opacity:0.6; cursor:not-allowed; transform:none; box-shadow:none; }

    /* Gradient pill variant for nav items (matches attached Download Resume style) */
    .btn-gradient{
      padding:8px 14px;
      border-radius:18px;
      background: linear-gradient(90deg, var(--accent) 0%, var(--accent-2) 100%);
      color:var(--bg);
      font-weight:700;
  box-shadow: 0 8px 18px rgba(0,87,217,0.12);
      border: none;
      transition: transform .12s ease, box-shadow .12s ease, filter .12s ease, opacity .12s ease;
      display:inline-flex; align-items:center; gap:8px;
    }
    .navlink.btn-gradient{ color:var(--bg); }
    .navlink.btn-gradient:hover,
  .navlink.btn-gradient:focus{ transform:translateY(-3px); filter:brightness(1.02); box-shadow:0 10px 28px rgba(0,87,217,0.14); color:var(--bg); }
  .navlink.btn-gradient:focus-visible{ box-shadow: 0 0 0 6px rgba(0,87,217,0.12); }
  .icon{width:16px;height:16px;display:inline-block;vertical-align:middle}
  .icon{width:16px;height:16px;display:inline-block;vertical-align:middle;margin-right:8px}
  /* Ensure inline CTA icons stay visible on dark theme */
  [data-theme="dark"] .icon { filter: drop-shadow(0 1px 0 rgba(0,0,0,0.2)); }
  /* Skill proficiency dots (5-step) */
  .proficiency{display:flex; gap:6px; margin-top:8px}
  .proficiency .dot{width:10px; height:10px; border-radius:50%; background:rgba(0,0,0,0.08); border:1px solid rgba(0,0,0,0.04)}
  [data-theme="dark"] .proficiency .dot{background:rgba(255,255,255,0.06); border:1px solid rgba(255,255,255,0.04)}
  .proficiency .dot.filled{background:linear-gradient(90deg,var(--accent),var(--accent-2)); border:0}

    .hero h1{margin:0 0 8px; font-size:28px; letter-spacing:-0.4px;}
    .hero p.lead{margin:0 0 18px; color:var(--muted);}
    .chips{display:flex; gap:8px; flex-wrap:wrap; margin-bottom:16px;}
    .chip{background:rgba(255,255,255,0.03); padding:8px 10px; border-radius:999px; color:var(--muted); font-size:13px;}

    /* Stats */
    .stats{display:flex; gap:12px; margin-bottom:18px;}
    .stat{background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent); padding:12px; border-radius:10px; flex:1; text-align:center;}
    .stat h3{margin:0; font-size:16px;}
    .stat p{margin:6px 0 0; color:var(--muted); font-size:13px;}

    /* Skills & projects */
  .card{background:var(--card); padding:18px; border-radius:12px;}
  /* Make project sections feel like a unified 'Select Projects' area */
  .card h2{font-size:20px; margin-bottom:6px; color:var(--heading); letter-spacing:-0.2px}
  .card p.muted{margin-bottom:8px}
  /* Subtle separators and breathing room between stacked project cards */
  .card + .card{margin-top:18px; border-top:1px solid rgba(2,6,23,0.04); padding-top:18px}
  /* Slightly larger project title within cards for emphasis */
  .proj h4{font-size:15px; font-weight:700; color:var(--heading); margin-bottom:6px}
  /* Light background band between project entries to improve scanability */
  .projects .proj{background:transparent; padding:14px; border-radius:8px}
  .projects .proj + .proj{border-top:1px solid rgba(2,6,23,0.03); padding-top:12px; margin-top:12px}
    .skills{display:flex; gap:10px; flex-wrap:wrap;}
    .skill{
      background:linear-gradient(90deg, rgba(255,255,255,0.02), transparent);
      padding:10px 12px; border-radius:10px; display:flex; gap:10px; align-items:center;
        min-width:180px;
    }
      .skill .skill-icon{width:36px;height:36px;flex:0 0 36px;border-radius:8px}
      .skill .meta{display:flex; flex-direction:column}
      /* Edit skills toggle */
      .skills-header{display:flex; align-items:center; justify-content:space-between; gap:12px}
    .edit-skills{background:transparent; border:1px solid rgba(0,0,0,0.06); padding:6px 10px; border-radius:8px; cursor:pointer; font-weight:600}
    .skill-actions{display:flex; gap:8px; align-items:center}
    .tool-btn{background:transparent; border:1px solid rgba(0,0,0,0.06); padding:6px 10px; border-radius:8px; cursor:pointer; font-weight:600}
    [data-theme="dark"] .tool-btn{border-color:rgba(255,255,255,0.06)}
      [data-theme="dark"] .edit-skills{border-color:rgba(255,255,255,0.06)}
  .skill.editable{outline:2px dashed rgba(0,87,217,0.12);}
      .skill .score-num{display:none; font-weight:700; margin-left:8px}
      @media print{
        .proficiency{display:none}
        .skill .score-num{display:inline-block}
      }
    .skill svg{width:28px;height:28px; opacity:0.95}
    .skill .meta{font-size:13px}
  .skill .meta b{display:block; color:var(--heading); font-weight:700}

    .projects{display:grid; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); gap:12px; margin-top:12px;}
    .proj{padding:12px; border-radius:10px; background:rgba(255,255,255,0.02); cursor:pointer; transition:transform .18s ease;}
    .proj:hover{transform:translateY(-6px)}
    .proj h4{margin:0 0 6px; font-size:15px;}
    .proj p{margin:0; color:var(--muted); font-size:13px;}
  .proj-actions{margin-top:10px; display:flex; gap:8px}
  .proj .btn{padding:6px 10px; font-size:14px}
  /* compact icon link shown beside project titles */
  .proj-icon{display:inline-flex; align-items:center; gap:6px; margin-left:8px; text-decoration:none; padding:4px; border-radius:8px}
  .proj-icon .icon{width:14px; height:14px}
  .proj-icon:focus{outline:2px solid rgba(0,87,217,0.12)}
    .tags{display:flex; gap:8px; flex-wrap:wrap; margin-top:8px;}
    .tag{font-size:12px; color:var(--muted); background:rgba(255,255,255,0.02); padding:6px 8px; border-radius:999px}

    /* Aside / Contact */
    aside{position:sticky; top:24px;}
    .contact{display:flex; gap:10px; flex-direction:column;}
  .contact a{display:block; text-decoration:none; color:inherit; background:rgba(255,255,255,0.02); padding:12px; border-radius:10px;}
  /* contact form tweaks */
  #contact-form .input{width:100%;}
  #contact-form button{align-self:flex-start}
    .contact form{display:flex; flex-direction:column; gap:8px;}
    .input,
    textarea{
      background:transparent;
      border:1px solid rgba(255,255,255,0.04);
      border-radius:8px;
      padding:10px;
      color:inherit;
    }
    .input::placeholder,
    textarea::placeholder{color:var(--muted);}
    button[type="submit"]{background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:var(--bg); border:0; padding:10px 12px; border-radius:10px; font-weight:700; cursor:pointer;}
    .muted{color:var(--muted); font-size:13px}

    footer{margin-top:30px; color:var(--muted); font-size:13px; text-align:center;}

    /* Modal */
    .modal{
      position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:60;
      background:linear-gradient(180deg, rgba(2,6,23,0.7), rgba(2,6,23,0.85));
    }
    .modal.open{display:flex;}
  .modal .panel{max-width:820px; width:100%; padding:20px; border-radius:12px; background:var(--card); color:var(--text);}
    .close{background:transparent; border:0; color:var(--muted); font-weight:700; cursor:pointer}
      /* Page basics - ensure readable defaults */
      body{background:var(--bg-gradient); color:var(--text); margin:0; -webkit-font-smoothing:antialiased;}
      .container{max-width:980px; margin:36px auto; padding:20px;}
      header{display:flex; align-items:center; justify-content:space-between; margin-bottom:18px}
      .brand{display:flex; gap:12px; align-items:center; text-decoration:none; color:inherit}
  /* Header utility classes to remove inline styles */
      .brand-inner{display:flex; align-items:center; gap:12px}
      .logo{width:54px; height:54px; border-radius:12px; display:flex; align-items:center; justify-content:center; font-weight:700; font-size:18px; color:var(--heading); position:relative}
      .sr-only{position:absolute; width:0; height:0; overflow:hidden; border:0; clip:rect(0 0 0 0); clip-path:inset(50%); white-space:nowrap}
      .site-name{font-weight:700}
      .tagline{margin-top:4px; font-size:13px}
      .nav-primary{display:flex; align-items:center; gap:14px}
      .theme-toggle{margin-left:10px; padding:8px 12px; border-radius:8px; border:none; cursor:pointer; background:var(--card); color:var(--muted); font-weight:600; box-shadow:0 1px 4px rgba(0,0,0,0.04); transition:transform 120ms ease}
  /* Responsive header: stack on small screens */
  @media (max-width:720px){
    header{flex-direction:column; align-items:flex-start; gap:12px}
    .nav-primary{flex-wrap:wrap}
    .brand{width:100%; justify-content:space-between}
    .nav-primary .btn, .nav-primary .navlink{font-size:14px}
  }
  /* Small spacing utilities */
  .spacer-md{height:18px}
  .spacer-sm{height:12px}
  .mt-0{margin-top:0}
  .mt-6{margin-top:6px}
  .mt-8{margin-top:8px}
  .mt-12{margin-top:12px}
  .mt-14{margin-top:14px}
  .mt-16{margin-top:16px}
  .mt-32{margin-top:32px}
  /* Contact form and small layout helpers */
  #contact-form{margin-top:16px; display:flex; flex-direction:column; gap:10px}
  .form-row{display:flex; gap:8px; align-items:center}
  .contact-note{margin-top:12px; font-size:14px; color:var(--muted)}
  /* Modal specific */
  .modal-header{display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:8px}
  #modal-tags{margin-top:12px; display:flex; gap:8px; flex-wrap:wrap}
  .btn-outline{background:transparent; border:1px solid rgba(255,255,255,0.04); color:var(--accent);}
  /* Skip link visible on focus */
  .skip-link{position:absolute; left:0; top:0; padding:8px 12px; background:var(--accent); color:var(--bg); border-radius:0 0 6px 0; transform:translateY(-120%); transition:transform .18s ease; z-index:220}
  .skip-link:focus{transform:translateY(0%); outline:none}

  /* Toasts: placed top-right, accessible states and transitions */
  #toast-wrap{position:fixed; right:18px; top:18px; z-index:120; display:flex; flex-direction:column; gap:8px; pointer-events:none}
  .toast{pointer-events:auto; min-width:220px; max-width:360px; padding:10px 12px; border-radius:10px; color:#fff; box-shadow:0 10px 30px rgba(2,6,23,0.14); display:flex; align-items:center; justify-content:space-between; gap:8px; transform-origin:100% 0; transition:transform .28s ease, opacity .28s ease}
  .toast--info{background:linear-gradient(90deg,var(--accent-2),var(--accent)); border-left:4px solid var(--highlight)}
  .toast--error{background:linear-gradient(90deg,#ff6b6b,#ff8a8a); border-left:4px solid #ff2e2e}
  .toast__msg{flex:1; font-size:13px}
  .toast__close{background:transparent; border:0; color:inherit; font-weight:700; padding:6px; margin-left:8px; cursor:pointer}

  @media (prefers-reduced-motion: reduce){
    .toast{transition:none}
  }
  /* Project index chips and smooth scrolling */
  .project-chips{display:flex; gap:10px; flex-wrap:wrap; margin:12px 0 6px}
  .project-chips a.chip-link{display:inline-block; padding:8px 12px; border-radius:999px; background:linear-gradient(90deg, rgba(0,0,0,0.03), transparent); color:var(--muted); text-decoration:none; font-weight:700; font-size:13px}
  .project-chips a.chip-link:hover, .project-chips a.chip-link:focus{background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:var(--bg); outline:none; box-shadow:0 8px 20px rgba(2,6,23,0.06)}
  html{scroll-behavior:smooth}
  </style>
</head>
<body>
  <a href="#main-content" class="skip-link">Skip to content</a>
  <div class="container">
    <!-- Toast container for non-blocking messages -->
    <div id="toast-wrap" aria-live="polite" style="position:fixed; right:18px; bottom:18px; z-index:120; display:flex; flex-direction:column; gap:8px"></div>
    <header>
  <a class="brand" href="#" aria-labelledby="site-name">
        <!-- Inline logo: use initials so the header doesn't depend on an external image file -->
        <div class="brand-inner">
          <div class="logo" role="img" aria-label="Umbrella InFo logo">
            <!-- Preferred: attached raster logo for visual fidelity -->
            <!-- Tuned inline SVG logo: sharper canopy, balanced spacing, scalable text -->
            <svg id="brand-svg" width="54" height="54" viewBox="0 0 120 120" role="img" aria-label="Umbrella InFo logo" xmlns="http://www.w3.org/2000/svg" style="width:54px;height:54px;display:inline-block">
              <defs>
                <linearGradient id="g1" x1="0" y1="0" x2="1" y2="1">
                  <stop offset="0%" stop-color="#0057D9"/>
                  <stop offset="100%" stop-color="#00C9A7"/>
                </linearGradient>
                <filter id="soft" x="-20%" y="-20%" width="140%" height="140%">
                  <feDropShadow dx="0" dy="4" stdDeviation="6" flood-color="#002a66" flood-opacity="0.12"/>
                </filter>
              </defs>
              <rect x="0" y="0" width="120" height="120" rx="18" fill="url(#g1)" filter="url(#soft)" />
              <!-- umbrella canopy: five scallops for balance -->
              <path d="M18 54 C32 28, 44 28, 54 40 C64 28, 76 28, 92 54 L18 54 Z" fill="#FFB100" stroke="#f6c266" stroke-width="0.5" />
              <!-- handle: subtle, centered under canopy -->
              <path d="M62 62 C62 82, 46 82, 46 72" stroke="#ffffff" stroke-width="5" stroke-linecap="round" fill="none" />
              <!-- small stem -->
              <rect x="58" y="58" width="4" height="6" rx="2" fill="#ffffff" />
              <!-- brand wordmark (keeps visual balance on header) -->
              <text x="60" y="96" font-family:"Inter", system-ui, Arial, sans-serif" font-weight="700" font-size="14" text-anchor="middle" fill="#ffffff">Umbrella InFo</text>
            </svg>
          </div>
          <div>
            <div id="site-name" class="site-name">Umbrella InFo</div>
            <div class="muted tagline">Where Data Speaks</div>
          </div>
        </div>
      </a>
      <nav aria-label="Primary" class="nav-primary">
  <a class="navlink btn-gradient" href="#about">About <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></a>
  <a class="navlink btn-gradient" href="#projects">Projects <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></a>
  <a class="navlink btn-gradient" href="#contact">Contact <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></a>
  <a class="btn" href="https://drive.google.com/drive/folders/1DlMR4XpiUCnkqDk1gsa9W4Ocd5Oa9CwC?usp=sharing" target="_blank" rel="noopener">Download Resume <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M12 3v12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M8 11l4 4 4-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M21 21H3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></a>
        <button id="theme-toggle" class="theme-toggle" aria-label="Toggle dark/light mode">☀️</button>
      </nav>
    </header>

  <main id="main-content">
      <section>
        <!-- About Section -->
        <div class="card" id="about">
          <h1>About Me</h1>
          <p>I'm Mujassim Khan, a data analyst with over six years of experience turning raw data into actionable insights. My expertise spans Advanced Excel (Power Query, Power Pivot), Power BI, and SQL, allowing me to build dynamic dashboards, automate reports, and optimize data workflows for smarter decision-making.</p>
          <p>With a sharp eye for detail and a passion for uncovering patterns, I help businesses streamline their data processes and unlock valuable insights. Whether it's crafting interactive reports, designing robust data models, or enhancing database performance, I deliver solutions that drive results.</p>
          <p>Let's connect and transform your data into a strategic asset! 🚀</p>
        </div>

  <div class="spacer-md"></div>

        <!-- Data Analytics Guide -->
        <div class="card" id="data-analytics">
          <h2 class="mt-0">Data Analysis: Step-by-Step Guide</h2>
          <ol class="mt-12">
            <li><b>Define the Objective</b><br>
              - Identify the problem or question.<br>
              - Determine key metrics (e.g., sales trends, customer behavior).</li>
            <li class="mt-8"><b>Data Collection</b><br>
              <i>Sources:</i> Databases (SQL, MongoDB), APIs (Google Analytics, Twitter API), Web Scraping (BeautifulSoup, Scrapy), Public Datasets (Kaggle, UCI).</li>
            <li class="mt-8"><b>Data Cleaning</b><br>
              - Handle missing values (drop or impute).<br>
              - Remove duplicates & outliers.<br>
              - Standardize formats (dates, text).</li>
            <li class="mt-8"><b>Exploratory Data Analysis (EDA)</b><br>
              - Descriptive stats (mean, median).<br>
              - Visualize (histograms, scatter plots).<br>
              - Check correlations (heatmaps).</li>
            <li class="mt-8"><b>Data Modeling</b><br>
              - Regression, Classification, Clustering.</li>
            <li class="mt-8"><b>Interpretation & Insights</b><br>
              - Identify trends & answer business questions.</li>
            <li class="mt-8"><b>Visualization & Reporting</b><br>
              - Dashboards (Tableau, Power BI), Reports (Excel, Google Data Studio).</li>
            <li class="mt-8"><b>Decision-Making</b><br>
              - Implement insights in marketing, operations, etc.</li>
            <li class="mt-8"><b>Monitoring & Improvement</b><br>
              - Track KPIs and update models with new data.</li>
          </ol>

          <h3 class="mt-14">Free Data Analysis Courses (With Certification)</h3>
          <ol class="mt-8">
            <li><b>Google Data Analytics (Coursera)</b> — <a href="https://www.coursera.org/professional-certificates/google-data-analytics" target="_blank" rel="noopener">View course</a></li>
            <li><b>IBM Data Science Professional Certificate (Coursera)</b> — <a href="https://www.coursera.org/professional-certificates/ibm-data-science" target="_blank" rel="noopener">View course</a></li>
            <li><b>Kaggle Learn (Python & SQL)</b> — <a href="https://www.kaggle.com/learn" target="_blank" rel="noopener">Explore lessons</a></li>
            <li><b>HarvardX Data Science Professional Certificate (edX)</b> — <a href="https://www.edx.org/professional-certificate/harvardx-data-science" target="_blank" rel="noopener">View program</a></li>
            <li><b>Microsoft Power BI Guided Learning</b> — <a href="https://learn.microsoft.com/en-us/power-bi/guided-learning/" target="_blank" rel="noopener">Start learning</a></li>
          </ol>
        </div>

        <!-- Skills Section -->
        <div class="card" aria-labelledby="skills-heading">
          <div class="skills-header">
            <div>
              <h2 id="skills-heading" class="mt-0">Core skills</h2>
              <p class="muted mt-6">Tools and techniques I use frequently</p>
            </div>
            <div class="skill-actions">
              <button id="edit-skills" class="edit-skills" aria-pressed="false">Edit skills</button>
              <button id="export-skills" class="tool-btn" title="Export skill levels">Export</button>
          <button id="import-skills" class="tool-btn" title="Import skill levels">Import</button>
          <button id="download-sample" class="tool-btn" title="Download import example">Download example</button>
          <input id="import-file" type="file" accept="application/json" style="display:none" />
            </div>
          </div>
          <div class="skills mt-12">
            <div class="skill" data-score="4">
              <svg viewBox="0 0 24 24" class="skill-icon" role="img" aria-label="Excel icon"><title>Excel</title><rect x="0" y="0" width="24" height="24" rx="4" fill="#217346"/><g fill="#fff"><rect x="5" y="5" width="4" height="4" rx="0.8"/><rect x="10" y="5" width="4" height="4" rx="0.8"/><rect x="15" y="5" width="4" height="4" rx="0.8"/><rect x="5" y="10" width="4" height="4" rx="0.8"/><rect x="10" y="10" width="4" height="4" rx="0.8"/><rect x="15" y="10" width="4" height="4" rx="0.8"/></g></svg>
              <div class="meta"><b>Microsoft Excel</b><span class="muted">Power Query, PivotTables</span></div>
            </div>
            <div class="skill" data-score="4">
              <svg viewBox="0 0 24 24" class="skill-icon" role="img" aria-label="Python icon"><title>Python</title><rect x="0" y="0" width="24" height="24" rx="4" fill="#3776ab"/><path d="M7.5 6.5c1.2-1 3.6-1 4.8 0 .6.5.6 1.6 0 2.1-.5.4-1.2.5-1.8.4-.6-.1-1.1-.6-1.4-1.1-.3-.5-.4-1.1 0-1.4zM16.5 17.5c-1.2 1-3.6 1-4.8 0-.6-.5-.6-1.6 0-2.1.5-.4 1.2-.5 1.8-.4.6.1 1.1.6 1.4 1.1.3.5.4 1.1 0 1.4z" fill="#ffd43b"/></svg>
              <div class="meta"><b>Python</b><span class="muted">pandas, numpy, cleaning</span></div>
            </div>
            <div class="skill" data-score="5">
              <svg viewBox="0 0 24 24" class="skill-icon" role="img" aria-label="SQL Server icon"><title>SQL Server</title><rect x="0" y="0" width="24" height="24" rx="4" fill="#2b6cb0"/><g fill="#fff"><ellipse cx="12" cy="7.2" rx="6" ry="2.1"/><path d="M6 7.2v5.6c0 1.1 2.7 2 6 2s6-.9 6-2V7.2"/></g></svg>
              <div class="meta"><b>Microsoft SQL Server</b><span class="muted">ETL, T-SQL, Data Modeling</span></div>
            </div>
            <div class="skill" data-score="5">
              <svg viewBox="0 0 24 24" class="skill-icon" role="img" aria-label="Power BI icon"><title>Power BI</title><rect x="0" y="0" width="24" height="24" rx="4" fill="#f2c94c"/><g fill="#111"><rect x="5.2" y="13" width="2" height="6" rx="0.5"/><rect x="9.2" y="9" width="2" height="10" rx="0.5"/><rect x="13.2" y="6" width="2" height="13" rx="0.5"/><rect x="17.2" y="3" width="2" height="16" rx="0.5"/></g></svg>
              <div class="meta"><b>Power BI</b><span class="muted">Reports, DAX, Dataflows</span></div>
            </div>
            <div class="skill" data-score="3">
              <svg viewBox="0 0 24 24" class="skill-icon" role="img" aria-label="Tableau icon"><title>Tableau</title><rect x="0" y="0" width="24" height="24" rx="4" fill="#e56a2f"/><g fill="#fff"><circle cx="7" cy="7" r="1.4"/><circle cx="12" cy="7" r="1.4"/><circle cx="17" cy="7" r="1.4"/><circle cx="7" cy="12" r="1.4"/><circle cx="12" cy="12" r="1.4"/><circle cx="17" cy="12" r="1.4"/><circle cx="10" cy="17" r="1.4"/><circle cx="14" cy="17" r="1.4"/></g></svg>
              <div class="meta"><b>Tableau</b><span class="muted">Interactive viz & dashboards</span></div>
            </div>
            <div class="skill" data-score="3">
              <svg viewBox="0 0 24 24" class="skill-icon" role="img" aria-label="Power Apps icon"><title>Power Apps</title><rect x="0" y="0" width="24" height="24" rx="4" fill="#8b5cf6"/><g fill="#fff"><rect x="6" y="6" width="12" height="12" rx="2" opacity="0.12"/><path d="M8 8h8v2H8zM8 11h8v2H8z"/></g></svg>
              <div class="meta"><b>Power Apps</b><span class="muted">Canvas & Model-driven Apps</span></div>
            </div>
            <div class="skill" data-score="2">
              <svg viewBox="0 0 24 24" class="skill-icon" role="img" aria-label="Access icon"><title>Access</title><rect x="0" y="0" width="24" height="24" rx="4" fill="#d1495b"/><g fill="#fff"><rect x="6" y="6" width="10" height="12" rx="1"/><text x="11" y="15" text-anchor="middle" font-size="9" font-weight="700" fill="#d1495b">A</text></g></svg>
              <div class="meta"><b>Microsoft Access</b><span class="muted">Forms, Queries, Reporting</span></div>
            </div>
            <!-- additional tags -->
            <div style="width:100%; margin-top:12px">
              <div class="tags">
                <div class="tag">DAX</div>
                <div class="tag">T-SQL</div>
                <div class="tag">Power Query</div>
                <div class="tag">ETL</div>
                <div class="tag">Data Modeling</div>
                <div class="tag">SQL Server Integration Services</div>
                <div class="tag">Data Visualization</div>
              </div>
            </div>
          </div>
        </div>

  <div class="spacer-md"></div>

        <!-- Projects section remains unchanged -->
    <section id="projects" class="card">
          <h2 style="margin-top:0">Select Projects</h2>
          <p class="muted">Short descriptions. Click any card to read a summary and tools used.</p>

          <div class="projects" aria-live="polite">
            <article class="proj" tabindex="0" data-title="Sales Dashboard — Retail Insights" data-desc="End-to-end dashboard for retail sales; cleaned transaction data with Python, modeled in SQL, interactive visuals in Power BI. Implemented PowerMap for regional shipment routes and time-based animations." data-tags="Python,MS SQL,Power BI,PowerMap" data-link="https://drive.google.com/drive/folders/1qO4BqtR3CdT6WGK3U25lgHFoZQU2skbZ?usp=sharing">
              <h4>Sales Dashboard — Retail Insights <a class="proj-icon" href="https://drive.google.com/drive/folders/1qO4BqtR3CdT6WGK3U25lgHFoZQU2skbZ?usp=sharing" target="_blank" rel="noopener noreferrer" aria-label="Open Sales Dashboard in Google Drive"><svg viewBox="0 0 24 24" width="14" height="14" class="icon" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L21.5 8.5 12 15 2.5 8.5 12 2z" fill="#0F9D58"></path><path d="M2.5 8.5L12 15 12 21.5 2.5 15.5 2.5 8.5z" fill="#F4B400"></path><path d="M21.5 8.5L12 15 12 21.5 21.5 15.5 21.5 8.5z" fill="#4285F4"></path></svg></a></h4>
              <p class="muted">Interactive sales performance with region-level mapping and time-series analysis.</p>
              <div class="proj-actions"></div>
            </article>

            <article class="proj" tabindex="0" data-title="Customer Churn Analysis" data-desc="Analyzed churn patterns using Python; built feature pipeline for ML-ready data; visualized cohort behavior in Tableau and created Excel dashboards for stakeholders." data-tags="Python,Excel,Tableau" data-link="https://drive.google.com/drive/folders/1Cict-t7qeWFm18BHCB2-s2pzVr671J0r?usp=drive_link">
              <h4>Customer Churn Analysis <a class="proj-icon" href="https://drive.google.com/drive/folders/1Cict-t7qeWFm18BHCB2-s2pzVr671J0r?usp=drive_link" target="_blank" rel="noopener noreferrer" aria-label="Open Customer Churn Analysis in Google Drive"><svg viewBox="0 0 24 24" width="14" height="14" class="icon" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L21.5 8.5 12 15 2.5 8.5 12 2z" fill="#0F9D58"></path><path d="M2.5 8.5L12 15 12 21.5 2.5 15.5 2.5 8.5z" fill="#F4B400"></path><path d="M21.5 8.5L12 15 12 21.5 21.5 15.5 21.5 8.5z" fill="#4285F4"></path></svg></a></h4>
              <p class="muted">Cohort analysis, retention metrics, and stakeholder-ready dashboards.</p>
              <div class="proj-actions"></div>
            </article>

            <article class="proj" tabindex="0" data-title="Financial Reporting Automation" data-desc="Automated monthly reporting using Power Query and SQL stored procedures; created Power BI paginated reports and Excel templates to reduce manual effort by 70%." data-tags="MS SQL,Power Query,Power BI,Excel" data-link="https://drive.google.com/drive/folders/1gNOf8zgDuIzxz5t8_c2VlG0dC4BzKXPw?usp=drive_link">
              <h4>Financial Reporting Automation <a class="proj-icon" href="https://drive.google.com/drive/folders/1gNOf8zgDuIzxz5t8_c2VlG0dC4BzKXPw?usp=drive_link" target="_blank" rel="noopener noreferrer" aria-label="Open Financial Reporting Automation in Google Drive"><svg viewBox="0 0 24 24" width="14" height="14" class="icon" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L21.5 8.5 12 15 2.5 8.5 12 2z" fill="#0F9D58"></path><path d="M2.5 8.5L12 15 12 21.5 2.5 15.5 2.5 8.5z" fill="#F4B400"></path><path d="M21.5 8.5L12 15 12 21.5 21.5 15.5 21.5 8.5z" fill="#4285F4"></path></svg></a></h4>
              <p class="muted">Reduced manual reporting and improved data accuracy across finance teams.</p>
            </article>

            <article class="proj" tabindex="0" data-title="Operational KPIs & Alerts" data-desc="Built KPI monitoring and early warning metrics; ETL in Python, aggregated in SQL, alerts integrated into dashboards for quick action." data-tags="Python,MS SQL,Power BI" data-link="https://drive.google.com/drive/folders/1UTtdhKSuoLyNW4zsAAeV-4EjwrSYfS-1?usp=drive_link">
              <h4>Operational KPIs & Alerts <a class="proj-icon" href="https://drive.google.com/drive/folders/1UTtdhKSuoLyNW4zsAAeV-4EjwrSYfS-1?usp=drive_link" target="_blank" rel="noopener noreferrer" aria-label="Open Operational KPIs & Alerts in Google Drive"><svg viewBox="0 0 24 24" width="14" height="14" class="icon" xmlns="http://www.w3.org/2000/svg"><path d="M12 2L21.5 8.5 12 15 2.5 8.5 12 2z" fill="#0F9D58"></path><path d="M2.5 8.5L12 15 12 21.5 2.5 15.5 2.5 8.5z" fill="#F4B400"></path><path d="M21.5 8.5L12 15 12 21.5 21.5 15.5 21.5 8.5z" fill="#4285F4"></path></svg></a></h4>
              <p class="muted">Real-time KPI monitoring and automated alerting for operations.</p>
            </article>
          </div>
        </section>

        <!-- Categorized project sections -->
        <section id="powerbi-projects" class="card mt-16">
          <h2 style="margin-top:0">Power BI Projects</h2>
          <p class="muted">Selected Power BI work: reports, dashboards, and advanced DAX solutions.</p>
          <div class="projects mt-12" aria-live="polite">
            <article class="proj" tabindex="0" data-title="Sales Dashboard — Retail Insights" data-desc="Power BI report with map visuals, DAX measures and dynamic bookmarks." data-tags="Power BI, DAX, PowerMap" data-link="https://drive.google.com/drive/folders/14b-yp7dvI96v-SQXgGiQCdsuVLRppuru?usp=drive_link">
              <h4>Sales Dashboard — Retail Insights
                <a class="proj-icon" href="https://drive.google.com/drive/folders/14b-yp7dvI96v-SQXgGiQCdsuVLRppuru?usp=drive_link" target="_blank" rel="noopener" aria-label="Jump on Project: Sales Dashboard — Retail Insights" title="Jump on Project">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                    <path d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0z" fill="#0057D9" opacity="0.12"/>
                    <path d="M12 7v10M7 12h10" stroke="#0057D9" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </a>
              </h4>
              <p class="muted">Interactive report with regional mapping and time-series animations.</p>
            </article>
          </div>
        </section>

        <section id="advanced-excel-projects" class="card mt-16">
          <h2 style="margin-top:0">Advanced Excel Projects</h2>
          <p class="muted">Power Query, Power Pivot and automation projects built in Excel.</p>
          <div class="projects mt-12" aria-live="polite">
            <article class="proj" tabindex="0" data-title="Finance Template Automation" data-desc="Automated monthly consolidation using Power Query and pivot-backed reports." data-tags="Excel,Power Query,Power Pivot" data-link="https://drive.google.com/drive/folders/1RzXZXSgZcTT3sBf3WYgFxUg7kOR20oSw?usp=drive_link">
              <h4>Finance Template Automation
                <a class="proj-icon" href="https://drive.google.com/drive/folders/1RzXZXSgZcTT3sBf3WYgFxUg7kOR20oSw?usp=drive_link" target="_blank" rel="noopener" aria-label="Jump on Project: Finance Template Automation" title="Jump on Project">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                    <path d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0z" fill="#0057D9" opacity="0.12"/>
                    <path d="M12 7v10M7 12h10" stroke="#0057D9" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </a>
              </h4>
              <p class="muted">Consolidated report and templates for recurring monthly reporting.</p>
            </article>
          </div>
        </section>

        <section id="python-projects" class="card mt-16">
          <h2 style="margin-top:0">Python Projects</h2>
          <p class="muted">Data cleaning, ETL pipelines and automation built with Python (pandas, numpy).</p>
          <div class="projects mt-12" aria-live="polite">
            <article class="proj" tabindex="0" data-title="ETL Pipeline" data-desc="Python-based ETL to clean and prepare sales data for analytics." data-tags="Python,pandas,ETL" data-link="https://drive.google.com/drive/folders/1lQ-EOM3J8nCG09p8KrEVfylz9BA5iLPw?usp=drive_link">
              <h4>ETL Pipeline
                <a class="proj-icon" href="https://drive.google.com/drive/folders/1lQ-EOM3J8nCG09p8KrEVfylz9BA5iLPw?usp=drive_link" target="_blank" rel="noopener" aria-label="Jump on Project: ETL Pipeline" title="Jump on Project">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                    <path d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0z" fill="#0057D9" opacity="0.12"/>
                    <path d="M12 7v10M7 12h10" stroke="#0057D9" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </a>
              </h4>
              <p class="muted">Data ingestion, cleaning and transformation for analytics workflows.</p>
            </article>
          </div>
        </section>

        <section id="sql-projects" class="card mt-16">
          <h2 style="margin-top:0">SQL Projects</h2>
          <p class="muted">Database design, T-SQL development, stored procedures and performance tuning.</p>
          <div class="projects mt-12" aria-live="polite">
            <article class="proj" tabindex="0" data-title="Data Warehouse Design" data-desc="Star schema design and ETL orchestration using SQL Server." data-tags="MS SQL,ETL,Data Warehouse" data-link="https://drive.google.com/drive/folders/1Em-8DnNQVa3PdoHdDLy82mt28FxjEOZv?usp=drive_link">
              <h4>Data Warehouse Design
                <a class="proj-icon" href="https://drive.google.com/drive/folders/1Em-8DnNQVa3PdoHdDLy82mt28FxjEOZv?usp=drive_link" target="_blank" rel="noopener" aria-label="Jump on Project: Data Warehouse Design" title="Jump on Project">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                    <path d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0z" fill="#0057D9" opacity="0.12"/>
                    <path d="M12 7v10M7 12h10" stroke="#0057D9" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </a>
              </h4>
              <p class="muted">Designed fact and dimension models for reporting and analytics.</p>
            </article>
          </div>
        </section>

        <section id="tableau-projects" class="card mt-16">
          <h2 style="margin-top:0">Tableau Projects</h2>
          <p class="muted">Interactive visualizations and dashboards created in Tableau.</p>
          <div class="projects mt-12" aria-live="polite">
            <article class="proj" tabindex="0" data-title="Customer Segmentation Dashboard" data-desc="Tableau dashboard focused on segmentation and behavioural insights." data-tags="Tableau,Segmentation" data-link="https://drive.google.com/drive/folders/16u3_oxO9T9JTwaWxuwdj-VGELqVM3rjF?usp=drive_link">
              <h4>Customer Segmentation Dashboard
                <a class="proj-icon" href="https://drive.google.com/drive/folders/16u3_oxO9T9JTwaWxuwdj-VGELqVM3rjF?usp=drive_link" target="_blank" rel="noopener" aria-label="Jump on Project: Customer Segmentation Dashboard" title="Jump on Project">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                    <path d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0z" fill="#0057D9" opacity="0.12"/>
                    <path d="M12 7v10M7 12h10" stroke="#0057D9" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </a>
              </h4>
              <p class="muted">Segment-level insights and interactive filtering for stakeholders.</p>
            </article>
          </div>
        </section>

        <section id="powerquery-projects" class="card mt-16">
          <h2 style="margin-top:0">Power Query Projects</h2>
          <p class="muted">Power Query transformations, merges and automation for Excel and Power BI.</p>
          <div class="projects mt-12" aria-live="polite">
            <article class="proj" tabindex="0" data-title="Data Cleanup Workflows" data-desc="Reusable Power Query functions and templates for routine data cleanup." data-tags="Power Query,Excel,Power BI" data-link="https://drive.google.com/drive/folders/11BFD-RUJnnfJmOBQ_zE7WSLmcWfpvSZt?usp=drive_link">
              <h4>Data Cleanup Workflows
                <a class="proj-icon" href="https://drive.google.com/drive/folders/11BFD-RUJnnfJmOBQ_zE7WSLmcWfpvSZt?usp=drive_link" target="_blank" rel="noopener" aria-label="Jump on Project: Data Cleanup Workflows" title="Jump on Project">
                  <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                    <path d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0z" fill="#0057D9" opacity="0.12"/>
                    <path d="M12 7v10M7 12h10" stroke="#0057D9" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </a>
              </h4>
              <p class="muted">Reusable query patterns to standardize and clean incoming data.</p>
            </article>
          </div>
        </section>

      </section>

      <!-- Contact Section -->
      <section id="contact" class="card mt-32">
        <h2>Contact Me</h2>
  <form id="contact-form" action="https://formsubmit.co/noormujassimraza@gmail.com" method="POST">
          <input id="name" class="input" type="text" placeholder="Your name" aria-label="Name" required />
          <input id="email" class="input" type="email" placeholder="Your email" aria-label="Email" required />
          <textarea id="message" class="input" rows="5" placeholder="Message" aria-label="Message" required></textarea>
    <!-- Honeypot to deter bots -->
    <input type="text" name="_honey" style="display:none" tabindex="-1" autocomplete="off">
    <!-- Prevent FormSubmit captcha and set subject -->
    <input type="hidden" name="_captcha" value="false">
    <input type="hidden" name="_subject" value="New contact via Umbrella InFo">
    <!-- Optionally set a redirect after submit (you can change to your live URL) -->
    <input type="hidden" name="_next" value="/">
          <div class="form-row">
            <button type="submit">Send message</button>
            <div id="form-response" class="muted" aria-live="polite"></div>
          </div>
          <div class="contact-note">
            <div style="display:flex; gap:8px; align-items:center">Call / WhatsApp: <a href="tel:+917617739344">+91-76177-39344</a>
              <button id="copy-phone" class="tool-btn" title="Copy phone number" style="margin-left:6px">Copy</button>
            </div>
            <div style="margin-top:6px; display:flex; gap:8px; align-items:center">Or connect via email:
              <button id="email-me" class="btn-outline" aria-label="Send email to Umbrella InFo">Send email</button>
              <button id="copy-email" class="tool-btn" title="Copy email address">Copy</button>
              <span class="muted" aria-hidden="true" style="margin-left:8px">(email hidden)</span>
            </div>
          </div>
        </form>
      </section>
    </main>

    <footer>
      <div style="display:flex; gap:12px; align-items:center; justify-content:center; flex-direction:column;">
  <div>&copy; <span id="year"></span> Umbrella InFo — Data Analysis & Visualization</div>
        <div style="display:flex; gap:10px; margin-top:6px;">
          <a href="https://www.linkedin.com/in/immunassim/" target="_blank" rel="noopener" aria-label="LinkedIn" data-action="linkedin">LinkedIn</a>
          <a href="https://github.com/" target="_blank" rel="noopener" aria-label="GitHub" data-action="github">GitHub</a>
          <a href="https://x.com/pathan_mujassim" target="_blank" rel="noopener" aria-label="Twitter" data-action="twitter">Twitter</a>
          <a href="https://www.facebook.com/mujassim.khan.395/" target="_blank" rel="noopener" aria-label="Facebook" data-action="facebook">Facebook</a>
        </div>
      </div>
    </footer>
  </div>

  <!-- Modal for project details -->
  <div class="modal" id="modal" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="panel" role="document">
      <div class="modal-header">
        <h3 id="modal-title" style="margin:0">Project</h3>
        <button class="close" aria-label="Close" onclick="closeModal()">Close ✕</button>
      </div>
      <p id="modal-desc" class="muted"></p>
  <div id="modal-tags"></div>
    <div id="modal-cta" style="margin-top:12px"></div>
  <div class="spacer-sm"></div>
  <button class="btn btn-outline" onclick="closeModal()">Done</button>
    </div>
  </div>

  <script>
    // Theme toggle logic
    const themeToggle = document.getElementById('theme-toggle');
    function setTheme(theme) {
      // reduced-motion check
      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if(!prefersReduced){
        document.documentElement.classList.add('theme-switching');
        // ensure the class is removed after the CSS transition
        window.setTimeout(()=> document.documentElement.classList.remove('theme-switching'), 300);
      }
      document.documentElement.setAttribute('data-theme', theme);
      localStorage.setItem('theme', theme);
      if(theme === 'light') themeToggle.textContent = '☀️';
      else themeToggle.textContent = '🌙';
    }
    // On load, set theme from localStorage; default to light when not set
    (function(){
      const saved = localStorage.getItem('theme');
      if(saved) {
        setTheme(saved);
      } else {
        // Default to light for consistent appearance unless the user has saved a preference
        setTheme('light');
      }
    })();
    themeToggle.addEventListener('click', function(){
      const current = document.documentElement.getAttribute('data-theme') === 'light' ? 'dark' : 'light';
      setTheme(current);
      // accessibility: reflect pressed state
      themeToggle.setAttribute('aria-pressed', String(current === 'light'));
    });
    // utility
    document.getElementById('year').textContent = new Date().getFullYear();

  // project modal (handled in the main script at the end of the file)
  // Enhance navlink focus/hover for keyboard users and add a tiny click accent for the resume button
  (function(){
    try{
      const navlinks = Array.from(document.querySelectorAll('.navlink'));
      navlinks.forEach(a=>{
        a.addEventListener('keydown', (e)=>{
          if(e.key === 'Enter' || e.key === ' ') a.click();
        });
      });

      const resume = document.querySelector('.btn');
      if(resume){
        resume.addEventListener('click', (e)=>{
          // tiny visual feedback: pulse the button then allow default
          resume.animate([
            { transform: 'scale(1)', boxShadow: getComputedStyle(resume).boxShadow },
            { transform: 'scale(0.98)', boxShadow: '0 4px 12px rgba(0,0,0,0.06)' },
            { transform: 'scale(1)', boxShadow: getComputedStyle(resume).boxShadow }
          ], { duration: 260, easing: 'ease-out' });
        });
      }
    }catch(err){ console.warn('nav enhancement failed', err); }
  })();

  // Ensure any .proj with a data-link has a visible compact Jump button
  (function(){
    try{
      document.querySelectorAll('.proj').forEach(p=>{
        const link = p.dataset.link;
        if(!link) return;
        const h4 = p.querySelector('h4'); if(!h4) return;
        if(h4.querySelector('.proj-icon')) return;
        const a = document.createElement('a');
        a.className = 'proj-icon'; a.href = link; a.target = '_blank'; a.rel = 'noopener noreferrer';
        a.setAttribute('aria-label', `Jump on Project: ${p.dataset.title || 'Project'}`);
        a.title = 'Jump on Project';
        a.innerHTML = `<svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0z" fill="#0057D9" opacity="0.12"/><path d="M12 7v10M7 12h10" stroke="#0057D9" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/></svg>`;
        h4.appendChild(a);
      });
    }catch(e){ console.warn('inject proj icons failed', e); }
  })();

  // Render skill proficiency dots from data-score attributes and support edit mode
  (function(){
    // accessible toast helper (top-right) — returns the toast element
    function showToast(message, type){
      try{
        const wrap = document.getElementById('toast-wrap');
        if(!wrap){ try{ alert(message); }catch(e){} return null; }
        const t = document.createElement('div');
        t.className = 'toast ' + (type === 'error' ? 'toast--error' : 'toast--info');
        t.setAttribute('role','status');
        t.setAttribute('aria-live','polite');
        t.setAttribute('tabindex','0');
        const msg = document.createElement('div'); msg.className='toast__msg'; msg.textContent = message;
        const close = document.createElement('button'); close.className='toast__close'; close.setAttribute('aria-label','Dismiss'); close.textContent='✕';
        close.addEventListener('click', ()=>{ t.remove(); });
        t.appendChild(msg); t.appendChild(close);
        wrap.appendChild(t);
        // entrance animation
        requestAnimationFrame(()=>{ t.style.transform = 'translateY(0)'; t.style.opacity = '1'; });
        // auto-dismiss
        const timeout = setTimeout(()=>{ if(t.parentNode){ t.style.opacity='0'; t.style.transform='translateY(6px)'; setTimeout(()=> t.remove(), 300); } }, 4000);
        t.addEventListener('keydown', (e)=>{ if(e.key === 'Escape') { clearTimeout(timeout); t.remove(); } });
        return t;
      }catch(e){ try{ alert(message) }catch(_){} return null }
    }
    try{
      const mapLabel = {5:'Expert',4:'Advanced',3:'Intermediate',2:'Familiar',1:'Beginner',0:'Novice'};
      const storageKey = 'nm_skill_levels_v1';
      let saved = {};
      try{ saved = JSON.parse(localStorage.getItem(storageKey) || '{}') }catch(e){ saved = {} }

      const skills = Array.from(document.querySelectorAll('.skill[data-score]'));
      function render(){
        skills.forEach(el=>{
          // remove previous rendered indicators
          const existing = el.querySelector('.proficiency'); if(existing) existing.remove();
          const existingLabel = el.querySelector('.meta > .muted');
          if(existingLabel && existingLabel.dataset && existingLabel.dataset.generated) existingLabel.remove();

          const base = parseInt(el.getAttribute('data-score')||0,10);
          const key = el.querySelector('b')?.textContent?.trim() || el.getAttribute('data-key') || base.toString();
          const score = saved[key] !== undefined ? saved[key] : base;

          const container = document.createElement('div');
          container.className = 'proficiency'; container.setAttribute('aria-hidden','true');
          for(let i=1;i<=5;i++){
            const dot = document.createElement('button');
            dot.type = 'button';
            dot.className = 'dot'+(i<=score? ' filled':'');
            dot.setAttribute('data-value',i);
            dot.title = mapLabel[i];
            dot.tabIndex = -1;
            container.appendChild(dot);
          }

          const label = document.createElement('div');
          label.className = 'muted'; label.dataset.generated = '1';
          label.style.fontSize = '12px'; label.style.marginTop = '6px';
          label.textContent = mapLabel[score] || '';

          const meta = el.querySelector('.meta');
          if(meta) { meta.appendChild(container); meta.appendChild(label); }
        });
        attachEditHandlers();
      }

      const editToggle = document.getElementById('edit-skills');
      let editMode = false;
      function setEditMode(on){
        editMode = !!on;
        editToggle.setAttribute('aria-pressed', String(editMode));
        skills.forEach(s=> s.classList.toggle('editable', editMode));
        // focusable dots when editing
        document.querySelectorAll('.proficiency .dot').forEach(d=> d.tabIndex = editMode ? 0 : -1);
      }

      function attachEditHandlers(){
        document.querySelectorAll('.proficiency .dot').forEach(dot=>{
          const btn = dot;
          if(btn.__bound) return; // avoid double binding
          btn.__bound = true;
          btn.addEventListener('click', (e)=>{
            if(!editMode) return; // only change when editing
            const value = parseInt(btn.getAttribute('data-value'),10);
            const skillEl = btn.closest('.skill');
            const key = skillEl.querySelector('b')?.textContent?.trim() || skillEl.getAttribute('data-key');
            saved[key] = value;
            try{ localStorage.setItem(storageKey, JSON.stringify(saved)); }catch(e){}
            render();
          });
          btn.addEventListener('keydown', (e)=>{
            if(!editMode) return;
            if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); btn.click(); }
            if(e.key === 'ArrowLeft' || e.key === 'ArrowUp'){
              const prev = btn.previousElementSibling; if(prev) prev.focus();
            }
            if(e.key === 'ArrowRight' || e.key === 'ArrowDown'){
              const nxt = btn.nextElementSibling; if(nxt) nxt.focus();
            }
          });
        });
      }

      if(editToggle){
        editToggle.addEventListener('click', ()=> setEditMode(!editMode));
      }

      // reset handler (double click on header to clear saved values)
      const header = document.getElementById('skills-heading');
      if(header){
        header.addEventListener('dblclick', ()=>{ if(confirm('Reset customized skill levels?')){ localStorage.removeItem(storageKey); saved = {}; render(); }});
      }

      // initial render and expose a small API
      render();

      // Export / Import handlers for skill levels
      const exportBtn = document.getElementById('export-skills');
      const importBtn = document.getElementById('import-skills');
      const importFile = document.getElementById('import-file');

      function buildExportPayload(){
        const payload = { version: 'v1', exportedAt: new Date().toISOString(), skills: {} };
        skills.forEach(el=>{
          const key = el.querySelector('b')?.textContent?.trim() || el.getAttribute('data-key') || '';
          const base = parseInt(el.getAttribute('data-score')||0,10);
          const score = saved[key] !== undefined ? saved[key] : base;
          payload.skills[key] = score;
        });
        return payload;
      }

      if(exportBtn){
        exportBtn.addEventListener('click', ()=>{
          try{
            const payload = buildExportPayload();
            const blob = new Blob([JSON.stringify(payload, null, 2)], { type: 'application/json' });
            const name = `nm_skills_${payload.version}_${new Date().toISOString().slice(0,10)}.json`;
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a'); a.href = url; a.download = name; document.body.appendChild(a); a.click(); a.remove();
            setTimeout(()=> URL.revokeObjectURL(url), 5000);
          }catch(err){
            showToast('Failed to export skills: ' + (err && err.message ? err.message : err), 'error');
          }
        });
      }

      if(importBtn && importFile){
        importBtn.addEventListener('click', ()=> importFile.click());
        importFile.addEventListener('change', (e)=>{
          const f = importFile.files && importFile.files[0];
          if(!f) return;
          const reader = new FileReader();
          reader.onload = function(ev){
            try{
              const parsed = JSON.parse(String(ev.target.result));
              let incoming = parsed;
              if(parsed && parsed.skills && typeof parsed.skills === 'object') incoming = parsed.skills;
              if(typeof incoming !== 'object') throw new Error('Invalid file format');

              const validated = {};
              for(const k in incoming){
                const v = Number(incoming[k]);
                if(!Number.isFinite(v) || v < 0 || v > 5) throw new Error('Invalid score for ' + k);
                validated[k] = v;
              }

              try{ localStorage.setItem(storageKey, JSON.stringify(validated)); }catch(e){}
              saved = validated;
              render();
              showToast('Skills imported successfully.', 'ok');
            }catch(err){
              showToast('Failed to import skills: ' + (err && err.message ? err.message : err), 'error');
            }finally{
              importFile.value = '';
            }
          };
          reader.onerror = function(){ showToast('Failed to read file', 'error'); importFile.value = ''; };
          reader.readAsText(f);
        });
      }

        // Download a sample import file (shows format)
        const sampleBtn = document.getElementById('download-sample');
        if(sampleBtn){
          sampleBtn.addEventListener('click', ()=>{
            try{
              const payload = buildExportPayload();
              const sample = { version: payload.version, skills: payload.skills, note: 'This is a sample file for importing skill levels.' };
              const blob = new Blob([JSON.stringify(sample, null, 2)], { type: 'application/json' });
              const name = `nm_skills_sample_${payload.version}.json`;
              const url = URL.createObjectURL(blob);
              const a = document.createElement('a'); a.href = url; a.download = name; document.body.appendChild(a); a.click(); a.remove();
              setTimeout(()=> URL.revokeObjectURL(url), 5000);
              showToast('Sample JSON downloaded.', 'ok');
            }catch(err){ showToast('Failed to create sample file', 'error'); }
          });
        }

      window.nmSkills = { render, setEditMode };
    }catch(err){ console.warn('render proficiency failed', err); }
  })();

  // Wire project cards to open the modal with details
  (function(){
    try{
      document.querySelectorAll('.proj').forEach(p=>{
        p.addEventListener('click', ()=> openModal(p.dataset.title, p.dataset.desc, p.dataset.tags, p.dataset.link));
        p.addEventListener('keydown', (e)=>{ if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openModal(p.dataset.title, p.dataset.desc, p.dataset.tags, p.dataset.link); } });
      });
    }catch(e){ console.warn('project wiring failed', e); }
  })();

  // Contact form handler: POST to FormSubmit (formsubmit.co) with fetch and mailto fallback
  (function(){
    try{
      const form = document.getElementById('contact-form');
      const resp = document.getElementById('form-response');
      if(!form) return;
      form.addEventListener('submit', async (e)=>{
        e.preventDefault();
        resp.textContent = '';
        const name = form.querySelector('#name').value.trim();
        const email = form.querySelector('#email').value.trim();
        const message = form.querySelector('#message').value.trim();
        if(!name || !email || !message){ resp.textContent = 'Please fill in name, email and message.'; return; }

        // Check honeypot
        const honey = form.querySelector('input[name="_honey"]').value;
        if(honey){ showToast('Bot detected — submission ignored', 'error'); return; }

        const action = form.getAttribute('action');
        const payload = new FormData(form);
        try{
          // Try POST via fetch so the page doesn't navigate
          const res = await fetch(action, { method: 'POST', body: payload, mode: 'cors' });
          if(res && (res.status === 200 || res.status === 302 || res.status === 201)){
            showToast('Message sent — check your inbox for a confirmation.', 'ok');
            form.reset();
            return;
          }
          // If fetch returned a non-success status, fallthrough to mailto fallback
        }catch(err){
          // network or CORS failure
        }

        // Fallback: open user's mail client with a prefilled message
        try{
          const subject = encodeURIComponent('Contact from Umbrella InFo: ' + name);
          const body = encodeURIComponent(`Name: ${name}\nEmail: ${email}\n\n${message}`);
          window.location.href = `mailto:noormujassimraza@gmail.com?subject=${subject}&body=${body}`;
          showToast('No server response — opening mail client as fallback.', 'info');
        }catch(e){
          showToast('Failed to send message. Please email noormujassimraza@gmail.com directly.', 'error');
        }
      });
    }catch(e){ console.warn('contact handler failed', e); }
  })();

  // Email reveal handler (keeps address out of page text to reduce scraping)
  (function(){
    try{
      const emailBtn = document.getElementById('email-me');
      const hidden = 'noormujassimraza@gmail.com';
      if(emailBtn){
        emailBtn.addEventListener('click', function(e){
          // open mail client
          window.location.href = 'mailto:' + hidden;
        });
      }
    }catch(e){ console.warn('email handler failed', e); }
  })();

  // Clipboard helpers: copy phone/email with toast feedback
  (function(){
    try{
      const phone = '+91-76177-39344';
      const email = 'noormujassimraza@gmail.com';
      const copy = async (text)=>{
        if(navigator.clipboard && navigator.clipboard.writeText){
          try{ await navigator.clipboard.writeText(text); showToast('Copied to clipboard', 'ok'); return true; }catch(e){}
        }
        // fallback
        try{ const t = document.createElement('textarea'); t.value = text; document.body.appendChild(t); t.select(); document.execCommand('copy'); t.remove(); showToast('Copied to clipboard', 'ok'); return true;}catch(e){ showToast('Copy failed', 'error'); return false }
      };
      const cpPhone = document.getElementById('copy-phone');
      const cpEmail = document.getElementById('copy-email');
      if(cpPhone) cpPhone.addEventListener('click', ()=> copy(phone));
      if(cpEmail) cpEmail.addEventListener('click', ()=> copy(email));
    }catch(e){ console.warn('clipboard helper failed', e); }
  })();

  // small helpers for modal and social links
  (function(){
    let lastFocused = null;
    function closeModal(){
      try{
        const m = document.getElementById('modal'); if(!m) return;
        m.setAttribute('aria-hidden','true'); m.classList.remove('open');
        // restore focus
        if(lastFocused && lastFocused.focus) lastFocused.focus();
      }catch(e){ console.warn(e) }
    }
    function openModal(title, desc, tags, link){
      try{
        const m = document.getElementById('modal'); if(!m) return;
        lastFocused = document.activeElement;
        document.getElementById('modal-title').textContent = title || 'Project';
        document.getElementById('modal-desc').textContent = desc || '';
  const tagWrap = document.getElementById('modal-tags'); tagWrap.innerHTML = '';
        (tags||'').toString().split(',').filter(Boolean).forEach(t=>{ const d = document.createElement('div'); d.className='tag'; d.textContent = t.trim(); tagWrap.appendChild(d); });
  m.classList.add('open'); m.setAttribute('aria-hidden','false');
  // render optional CTA when a link is provided
    const cta = document.getElementById('modal-cta'); if(cta){ cta.innerHTML = ''; if(link){ const a = document.createElement('a'); a.className = 'btn'; a.href = link; a.target = '_blank'; a.rel = 'noopener noreferrer'; a.setAttribute('aria-label', 'Open project resource in a new tab');
      // more precise Google Drive-style inline SVG (three colored shapes)
      const svg = document.createElementNS('http://www.w3.org/2000/svg','svg');
      svg.setAttribute('viewBox','0 0 24 24'); svg.setAttribute('width','16'); svg.setAttribute('height','16'); svg.classList.add('icon');
      svg.innerHTML = `
        <path d="M12 2L21.5 8.5 12 15 2.5 8.5 12 2z" fill="#0F9D58"></path>
        <path d="M2.5 8.5L12 15 12 21.5 2.5 15.5 2.5 8.5z" fill="#F4B400"></path>
        <path d="M21.5 8.5L12 15 12 21.5 21.5 15.5 21.5 8.5z" fill="#4285F4"></path>
      `;
      a.appendChild(svg);
      const span = document.createElement('span'); span.textContent = 'Jump on Project'; a.appendChild(span);
      cta.appendChild(a); } }
        // move focus to close button
        const closeBtn = m.querySelector('.close'); if(closeBtn) closeBtn.focus();

        // trap focus inside modal
        function trap(e){
          if(!m.classList.contains('open')) return;
          const focusable = Array.from(m.querySelectorAll('a[href], button:not([disabled]), textarea, input, select')).filter(Boolean);
          if(focusable.length === 0) return;
          const first = focusable[0], last = focusable[focusable.length-1];
          if(e.key === 'Tab'){
            if(e.shiftKey && document.activeElement === first){ e.preventDefault(); last.focus(); }
            else if(!e.shiftKey && document.activeElement === last){ e.preventDefault(); first.focus(); }
          }
          if(e.key === 'Escape') { closeModal(); }
        }
        m.__trap = trap;
        document.addEventListener('keydown', trap);
      }catch(e){ console.warn(e); }
    }
    // expose
    window.openModal = openModal; window.closeModal = closeModal;
  })();
  function openLinkedIn(e){ if(e) e.preventDefault(); window.open('https://www.linkedin.com/in/immunassim/','_blank','noopener'); }
  function openGitHub(e){ if(e) e.preventDefault(); window.open('https://github.com/','_blank','noopener'); }
  function openTwitter(e){ if(e) e.preventDefault(); window.open('https://x.com/pathan_mujassim','_blank','noopener'); }
  function openFacebook(e){ if(e) e.preventDefault(); window.open('https://www.facebook.com/mujassim.khan.395/','_blank','noopener'); }

  // wire social links via data-action attributes for improved a11y
  (function(){
    const map = {
      linkedin: 'https://www.linkedin.com/in/immunassim/',
      github: 'https://github.com/',
      twitter: 'https://x.com/pathan_mujassim',
      facebook: 'https://www.facebook.com/mujassim.khan.395/'
    };
    document.querySelectorAll('[data-action]').forEach(a=>{
      a.addEventListener('click', (e)=>{
        // allow normal ctrl/cmd+click to open in new tab
        if(e.metaKey || e.ctrlKey) return;
        e.preventDefault(); const key = a.getAttribute('data-action'); const url = map[key]; if(url) window.open(url,'_blank','noopener');
      });
      a.addEventListener('keydown', (e)=>{ if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); a.click(); } });
    });
  })();

  // ensure theme toggle aria-pressed matches current theme
  try{ const cur = document.documentElement.getAttribute('data-theme') === 'light'; themeToggle.setAttribute('aria-pressed', String(cur)); }catch(e){}

  // Swap logo for dark/light theme when theme changes (dynamic fallback)
  (function(){
    try{
      const svg = document.getElementById('brand-svg');
      function refreshLogo(){
        const theme = document.documentElement.getAttribute('data-theme') || (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
        if(!svg) return;
        try{
          // update gradient and canopy color for dark vs light
          const stops = svg.querySelectorAll('linearGradient stop');
          if(stops && stops.length >= 2){
            if(theme === 'dark'){
              stops[0].setAttribute('stop-color','#00C9A7');
              stops[1].setAttribute('stop-color','#0057D9');
            } else {
              stops[0].setAttribute('stop-color','#0057D9');
              stops[1].setAttribute('stop-color','#00C9A7');
            }
          }
          // canopy element is the first path in the SVG - toggle fill for visibility
          const canopy = svg.querySelectorAll('path')[0];
          if(canopy){ canopy.setAttribute('fill', theme === 'dark' ? '#FFB100' : '#FFB100'); }
        }catch(e){ /* non-fatal */ }
      }
      const observer = new MutationObserver(refreshLogo);
      observer.observe(document.documentElement, { attributes: true, attributeFilter: ['data-theme'] });
      refreshLogo();
    }catch(e){ console.warn('logo swap failed', e); }
  })();

  // Simple visit counter (local only)
  (function(){
    try{
      const key = 'um_visits_v1';
      const n = Number(localStorage.getItem(key) || '0') + 1;
      localStorage.setItem(key, String(n));
      const el = document.getElementById('year');
      // show count near footer year
      const footerWrap = el && el.parentElement;
      if(footerWrap){
        const counter = document.createElement('div'); counter.className='muted'; counter.style.marginTop='6px'; counter.textContent = 'Local visits: ' + n;
        footerWrap.appendChild(counter);
      }
    }catch(e){ }
  })();

  </script>
  </body>
  </html>